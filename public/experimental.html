<!DOCTYPE html>
<!-- Â© 2025 Eldiiar Bekbolotov -->
<html lang="en">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>EldiiarKA</title>
	<!-- Meta tag to ensure the website scales the same across all devices for responsive web design -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Preconnect to the Google Fonts API to improve loading performance -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<!-- Preconnect to the Google Fonts API's static assets (like font files) to improve loading performance -->
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<!-- Fonts loaded: IBM Plex Sans, Noto Sans, Roboto -->
	<link
		href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
		rel="stylesheet" />
	<!-- Material Symbols... can optimize later -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
	<style>
		* {
			--bg: #2e3227;
			--display-font: "Roboto", Helvetica, arial;
			--main-font: "IBM Plex Sans", Helvetica, arial;
			/*--primary: #21ed71;*/
			--primary: #97d945;
			/* trackstar color vibe */

			--text-color: #fff;
			--btn-text-color: #1f3700;
			--nav-bg: #191d13;
			--navlink-color: #9aa0a6;
			--navlink-color-hover: rgb(231, 234, 237);
		}

		html,
		body {
			background-color: var(--bg);
			font-family: var(--main-font);
			margin: 0;
			padding: 0;
			height: 100%;
			width: 100%;
			color: var(--text-color);
		}

		:focus-visible {
			outline: 2px solid dodgerblue;
			border-radius: 3px;
		}

		#overlay {
			position: fixed;
			background-color: rgba(0, 0, 0, 0.5);
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 1110;
			display: none;
		}

		#overlay.on {
			display: block;
		}

		#sidenav {
			background-color: var(--nav-bg);
			display: block;
			position: fixed;
			top: 0;
			left: -250px;
			bottom: 0;
			width: 250px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
			transition: all 0.15s;
			z-index: 1111;
		}

		#sidenav.on {
			left: 0px;
		}

		#sidenav a {
			display: block;
			padding: 25px 24px;
			color: var(--navlink-color);
			text-decoration: none;
			font-weight: 500;
			transition: all 0.1s;
		}

		#sidenav a.active {
			background-color: rgb(0, 0, 0, 0.2);
			color: var(--navlink-color-hover);
		}

		#sidenav a.active:hover {
			background-color: rgb(0, 0, 0, 0.2);
		}

		#sidenav a:hover {
			background-color: rgb(0, 0, 0, 0.1);
			color: var(--navlink-color-hover);
		}

		#editor {
			height: 60%;
			width: calc(100% - 600px);
			margin: 0px;
			display: inline-block;
			vertical-align: top;
		}

		#container {
			margin: 0px;
			width: 100%;
		}

		.editor-iframe {
			background: rgba(0, 0, 0, 0.9);
			margin: 0px;
			white-space: nowrap;
			position: relative;
			height: 100%;
		}

		#iframebox {
			overflow-x: scroll;
		}

		#editor {
			height: 100%;
			margin: 0px;
			border: 1px solid rgb(219, 220, 221);
		}

		#iframe {
			background: #fff;
			margin: 0px;
			height: 100%;
			width: 50%;
			display: inline-block;
			vertical-align: top;
			border: 1px solid rgb(219, 220, 221);
		}

		.full-height {
			height: 100%;
		}

		.full-width {
			width: 100%;
		}

		@media screen and (min-width: 901px) {
			.popup {
				position: fixed;
				top: 80px;
				left: 50px;
				right: 50px;
				bottom: 50px;
				overflow-y: scroll;
				background-color: var(--nav-bg);
				border: 5px solid var(--bg);
				z-index: 1000;
				border-radius: 10px;
				box-shadow: 0px 30px 30px rgba(0, 0, 0, 0.5);
			}

			#discussion {
				padding: 0 20%;
			}

			#editor {
				height: 60%;
				width: calc(100% - 600px);
				margin: 0px;
				display: inline-block;
				vertical-align: top;
			}

			#container {
				margin: 0px;
				width: 100%;
			}

			.editor-iframe {
				background: rgba(0, 0, 0, 0.9);
				margin: 0px;
				white-space: nowrap;
				position: relative;
				height: 100%;
			}

			#iframebox {
				overflow-x: scroll;
				display: inline-block;
				vertical-align: top;
			}

			#editor {
				height: 100%;
				margin: 0px;
			}

			#iframe {
				background: #fff;
				margin: 0px;
				height: 100%;
				width: 50%;
				min-height: 400px;
				display: inline-block;
				vertical-align: top;
			}
		}

		@media screen and (max-width: 900px) {
			.popup {
				position: fixed;
				top: 80px;
				left: 10px;
				right: 10px;
				bottom: 10px;
				overflow-y: scroll;
				background-color: var(--nav-bg);
				border: 5px solid var(--bg);
				z-index: 1000;
				border-radius: 10px;
				box-shadow: 0px 30px 30px rgba(0, 0, 0, 0.5);
			}

			.popup .container {
				padding: 0px 10px;
			}

			#discussion {
				padding: 0 0;
			}

			#editor {
				height: 60%;
				width: 100%;
				margin: 0px;
			}

			#container {
				margin: 0px;
				width: 100%;
			}

			.editor-iframe {
				background: rgba(0, 0, 0, 0.9);
				margin: 0px;
				height: 100%;
				margin-left: 20px;

				margin-right: 20px;
			}

			#iframebox {
				overflow-x: scroll;
			}

			#editor {
				height: 100%;
				width: 100%;
				margin: 0px;
				min-height: 200px;
			}

			#iframe {
				display: block;
				background: #fff;
				margin: 0px;
				height: 100%;
				width: 100%;
				min-height: 400px;
			}

			.top-vv,
			.bottom-vv {
				margin: 0 20px;
			}
		}

		.top-vv {
			position: relative;
			background: rgba(0, 0, 0, 0.9);
			border-top: 1px solid gainsboro;
			min-height: 66px;
			color: #fff;
		}

		.top-vv #program-title {
			padding-left: 30px;
			font-family: "Noto Sans", Helvetica, arial;
			font-weight: 500;
		}

		.bottom-vv {
			color: #fff;
			background: rgba(0, 0, 0, 0.9);
			padding: 0 20px;
			line-height: 66px;
			vertical-align: middle;
			min-height: 66px;
			border-bottom: 1px solid gainsboro;
		}

		#loading {
			display: none;
			background-color: rgba(0, 0, 0, 0.8);
			width: 100%;
			height: 100%;
			text-align: center;
			color: #fff;
			position: fixed;
			top: 0;
			bottom: 0;
			right: 0;
			left: 0;
			font-size: 24px;
			z-index: 100;
		}

		#search {
			margin: 10px;
			padding: 10px;
			width: calc(100% - 40px);
			box-sizing: border-box;
		}

		input {
			background-color: #2e3227;
			color: rgb(255, 255, 255);
			border: 1px solid rgba(255, 255, 255, 0.4);
			transition: border 0.15s;
			caret-color: #fff;
			font-family: "IBM Plex Sans", Arial, Helvetica, sans-serif;
		}

		input:-webkit-autofill,
		input:-webkit-autofill:hover,
		input:-webkit-autofill:focus,
		input:-webkit-autofill:active {
			-webkit-background-clip: text;
			-webkit-text-fill-color: #ffffff;
			transition: background-color 5000s ease-in-out 0s;
			box-shadow: inset 0 0 20px 20px #23232329;
			caret-color: #fff;
		}

		input::placeholder {
			color: rgb(255, 255, 255);
		}

		input:hover {
			background-color: rgb(255, 255, 255, 0.2);
			border: 1px solid rgba(255, 255, 255, 0.8);
		}

		input:focus {
			background-color: rgb(255, 255, 255, 0.2);
			border: 1px solid var(--primary);
			outline: 1px solid var(--primary);
		}

		input[type="search"]::-webkit-search-cancel-button {
			-webkit-appearance: none;
			appearance: none;
		}

		#area {
			width: 100%;
			height: 100%;
			position: relative;
			overflow-y: scroll;
		}

		.spinner {
			width: 60px;
			height: 60px;
			border-radius: 50%;
			border: 4px solid #888;
			border-right-color: var(--primary);
			animation: rotate-full 1s infinite linear;
		}

		@keyframes rotate-full {
			to {
				transform: rotate(360deg);
			}
		}

		.center-transform {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}

		.btn-card {
			border: 2px solid var(--primary);
			border-radius: 5px;
			text-align: center;
		}

		.btn-card::after {
			display: none;
		}

		.btn-card:focus {
			border-radius: 5px;
			outline: 2px solid dodgerblue;

		}

		.btn-fab {
			height: 42px;
			width: 42px;
			text-align: center;
			padding: 0px 0px;
			background-color: var(--primary);
			color: var(--btn-text-color);
			font-weight: 500;
			font-size: 16px;
			border-radius: 50%;
		}

		.btn-fab::after {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 50%;
			background-color: rgba(0, 0, 0, 0.5);
			opacity: 0;
			transition: all 0.1s;
			pointer-events: none;
		}

		.btn-fab:hover::after {
			opacity: 0.5;
		}

		.btn-fab:active::after {
			opacity: 1;
		}

		button {
			padding: 10px 20px;
			background-color: var(--primary);
			color: var(--btn-text-color);
			letter-spacing: 0.33px;
			font-size: 16px;
			font-weight: 500;
			font-family: var(--main-font);
			border: none;
			border-radius: 50px;
			cursor: pointer;
			position: relative;
		}

		.btn::after {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 50px;
			background-color: rgba(0, 0, 0, 0.3);
			opacity: 0;
			transition: all 0.3s;
			pointer-events: none;
		}

		.btn:hover::after {
			opacity: 0.5;
		}

		.btn:active::after {
			opacity: 1;
		}

		.btn-outlined {
			background-color: transparent;
			border: 1px solid var(--primary);
			color: var(--text-color);
			transition: all 0.1s;
			position: relative;
		}

		.btn-outlined:hover {
			background-color: var(--primary);
			color: var(--btn-text-color);
		}

		.btn-outlined::after {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 50px;
			background-color: rgba(0, 0, 0, 0.4);
			opacity: 0;
			transition: all 0.3s;
			pointer-events: none;
		}

		.btn-outlined:active::after {
			opacity: 1;
		}

		nav.navbar-fixed {
			height: 70px;
			background-color: var(--nav-bg);
			/*box-shadow: 0px 1px 14px rgba(0,0,0,0.4);*/
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 1000;
			display: flex;
			transition: transform 0.5s;
		}

		nav.navbar-fixed.hide {
			transform: translateY(-100%);
		}

		a.navlink-menu {
			display: none;
			line-height: 70px;
			padding-left: 20px;
			padding-right: 10px;
			margin-right: 10px;
			height: 70px;
			font-family: var(--display-font);
			color: var(--navlink-color);
			text-decoration: none;
			letter-spacing: 0px;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.15s;
			font-size: 16px;
		}

		a.navlink-menu:hover {
			color: var(--navlink-color-hover);
		}

		@media screen and (max-width: 700px) {
			a.navlink {
				display: none !important;
			}

			a.navlink-menu {
				display: block;
			}
		}

		nav.navbar-fixed a.navlink,
		a.logo {
			display: block;
			line-height: 70px;
			height: 70px;
			font-family: var(--display-font);
			color: var(--navlink-color);
			text-decoration: none;
			letter-spacing: 0px;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.15s;
			font-size: 16px;
		}

		nav,
		a.navlink {
			padding: 0 20px;
		}

		nav.navbar-fixed a.navlink:hover {
			color: var(--navlink-color-hover);
		}

		nav.navbar-fixed a.navlink:active {
			color: var(--navlink-color-hover);
		}

		nav.navbar-fixed a.logo {
			font-family: "Noto Sans";
			font-weight: 300;
			color: #fff;
			font-size: 20px;
			letter-spacing: 0.7px;
			transform: scale(1, 1);
		}

		nav.navbar-fixed a.logo:hover {
			color: #fff;
			text-decoration: none;
		}

		nav.navbar-fixed a.logo:active {
			color: #fff;
		}

		nav.navbar-fixed a.navselector.active {
			color: #fff;
		}

		#ka-logo {
			font-family: "IBM Plex Sans", helvetica, arial;
			letter-spacing: 2px;
			font-weight: 500;
			background: var(--primary);
			box-shadow: inset 0px 0px 12px rgba(0, 0, 0, 0.4);
			border-radius: 9px;
			color: var(--btn-text-color);
			margin-left: 3px;
			padding: 2px 5px;
			font-size: 16px;
		}

		.container {
			padding: 45px;
		}

		.center {
			text-align: center;
		}

		a {
			color: var(--primary);
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}

		.comment,
		.question {
			padding: 15px;
			font-family: "Noto Sans", sans-serif, arial;
			font-size: 16px;
			line-height: 23px;
			font-weight: 400;
		}

		.comment,
		.question a {
			margin-right: 15px;
		}

		#stats {
			background-color: rgba(255, 255, 255, 0.5);
			color: rgba(0, 0, 0, 1);
			padding: 15px 20px;
		}

		span.material-symbols-rounded {
			vertical-align: middle;
			/* position: relative;
        top: -1px;*/
		}

		.thumbtn {
			text-decoration: none;
			border-radius: 50px;
			padding: 6px 12px;
			font-size: 16px;
			background-color: rgba(106, 106, 106, 0.2);
			color: rgba(255, 255, 255, 0.8);
			transition: all 0.1s;
		}

		.thumbtn:hover {
			background-color: rgba(106, 106, 106, 0.5);
			text-decoration: none;
		}

		.thumbtn:active {
			background-color: rgba(106, 106, 106, 1);
			transform: scale(0.95);
			text-decoration: none;
		}

		#programSelectors {
			border-top: 1px solid rgb(235, 235, 235, 0.2);
			border-bottom: 1px solid rgb(235, 235, 235, 0.2);
			margin: 20px;
			display: flex;
			flex-flow: row wrap;
			justify-content: space-around;
		}

		.programSelector {
			display: inline-block;
			margin: 20px 0px;
			padding: 0px 20px;
			background-color: rgb(23, 23, 23);
			color: #fff;
			border: none;
			height: 330px;
			width: 200px;
			border-radius: 0px;
			border: 1px solid transparent;
			cursor: pointer;
			transition: all 0.1s, width 0s;
			/*, width 0.5s;*/
		}

		.programSelector h2 {
			font-size: 16px;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			line-clamp: 2;
			-webkit-box-orient: vertical;
			line-height: 1.2em;
			height: 2.4em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.programSelector .thumbtn {
			background-color: rgba(106, 106, 106, 0.2);
			color: rgba(255, 255, 255, 0.8);
		}

		.programSelector .thumbtn svg {
			vertical-align: middle;
			fill: rgba(255, 255, 255, 0.8);
		}

		.programSelector .thumbtn:hover {
			background-color: rgba(106, 106, 106, 0.2);
			color: rgba(255, 255, 255, 0.8);
		}

		.programSelector .thumbtn:focus {
			background-color: rgba(106, 106, 106, 0.2);
			color: rgba(255, 255, 255, 0.8);
		}

		@media screen and (max-width: 700px) {
			.programSelector {
				width: 100%;
			}
		}

		.programSelector img {
			width: 200px;
			height: 200px;
			margin-bottom: 10px;
		}

		.programSelector:hover {
			border: 1px solid var(--primary);
		}

		.programSelector.active {
			border: 1px solid var(--primary);
		}

		.programSelector.featured {
			background-color: rgb(82, 126, 99);
		}

		.programSelector.good {
			background-color: rgb(56, 131, 86);
		}

		.programSelector.great {
			background-color: rgb(3, 152, 63);
		}

		.programSelector a svg {
			fill: #eac452;
			vertical-align: middle;
		}

		.rating {
			display: block;
			height: 20px;
			margin-top: 10px;
		}

		#discussion {
			background-color: rgba(0, 0, 0, 0.5);
		}

		#questions {
			padding: 15px 20px;
			word-wrap: break-word;
			display: none;
		}

		#comments {
			padding: 15px 20px;
			word-wrap: break-word;
			display: none;
		}

		.navbar-flex {
			height: 70px;
			background-color: var(nav-bg);
			line-height: 70px;
			display: flex;
			justify-content: space-between;
		}

		.navbar-flex a.navbar-flex-link {
			display: block;
			line-height: 70px;
			height: 70px;
			font-family: var(--display-font);
			color: var(--navlink-color);
			text-decoration: none;
			letter-spacing: 0px;
			font-weight: 500;
			width: 100%;
			cursor: pointer;
			padding: 0 20px;
			transition: all 0.15s;
			font-size: 16px;
			text-align: center;
			border-bottom: 2px solid transparent;
		}

		.navbar-flex a.navbar-flex-link.active {
			border-bottom: 2px solid var(--primary);
			color: var(--navlink-color-hover);
		}

		.navbar-flex a.navbar-flex-link:hover {
			color: var(--navlink-color-hover);
		}

		.navbar-flex a.navbar-flex-link:active {
			color: var(--navlink-color-hover);
		}

		.jumbo {
			background-color: var(--nav-bg);
		}

		.jumbo h1 {
			font-size: 3em;
			font-family: "Roboto", helvetica, sans-serif;
			font-weight: 600;
			letter-spacing: 4px;
			margin: 0;
		}

		.jumbo p {
			font-size: 16px;
		}

		.jumbo .btn {
			box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.7);
			transition: all 0.2s;
		}

		.jumbo .btn:hover {
			box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.4),
				inset 0px 0px 20px rgba(0, 0, 0, 0.3);
		}

		.jumbo .btn:active {
			transform: scale(0.95);
		}

		.jumbo .btn span {
			position: relative;
			left: 0px;
			transition: all 0.2s;
		}

		.jumbo .btn:hover span {
			position: relative;
			left: 4px;
		}

		.jumbo p.cool {
			font-size: 20px;
			font-family: "IBM Plex Sans", helvetica, sans-serif;
			font-weight: 400;
			letter-spacing: 1px;
			margin: 0;
			text-transform: uppercase;
		}

		.color-primary {
			color: var(--primary);
		}

		.jumbo h2 {
			font-size: 2.5em;
			font-family: "IBM Plex Sans", helvetica, sans-serif;
			font-weight: 400;
		}

		@keyframes fadeIn {
			0% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@keyframes slideIn {
			0% {
				transform: translateY(100px);
				opacity: 0;
				display: block;
			}

			50% {
				opacity: 1;
				display: block;
			}

			100% {
				opacity: 1;
				transform: translateY(0px);
				display: block;
			}
		}

		@keyframes slideOut {
			0% {
				transform: translateY(0px);
				opacity: 1;
				display: block;
			}

			50% {
				opacity: 1;
				display: block;
			}

			100% {
				opacity: 0;
				transform: translateY(100px);
				display: none;
			}
		}

		#selectProgram {
			position: fixed;
			display: block;
			z-index: 100;
			top: 0px;
			bottom: 0px;
			left: 0px;
			right: 0px;
			background-color: rgb(0, 0, 0, 0.9);
			padding: 30px;
			padding-top: 70px;
			text-align: center;
		}

		footer {
			background-color: var(--primary);
			color: var(--btn-text-color);
			padding: 20px;
		}

		footer a {
			color: var(--btn-text-color);
			text-decoration: none;
		}

		footer a:hover svg {
			fill: rgba(0, 0, 0);
		}

		footer a:hover {

			text-decoration: underline;
		}
	</style>
</head>

<body>
	<div id="overlay" onclick="toggleNav();"></div>
	<div id="sidenav">
		<a href="#!" onclick="scene(0);toggleNav();"
			class="mobile-navlink active"><span class="material-symbols-rounded">home</span> Home</a>
		<a href="#!" onclick="scene(1);toggleNav();"
			class="mobile-navlink"><span class="material-symbols-rounded">database_search</span>
			Projects</a>
		<a href="#!" onclick="scene(2);toggleNav();"
			class="mobile-navlink"><span class="material-symbols-rounded">developer_mode_tv</span>
			Editor</a>
		<a href="#!" onclick="scene(3);toggleNav();"
			class="mobile-navlink"><span class="material-symbols-rounded">code</span>
			Playground</a>
	</div>

	<nav class="navbar-fixed">
		<a href="javascript: toggleNav();" class="navlink-menu">
			<span class="material-symbols-rounded">menu</span>
		</a>
		<a href="#!" onclick="scene(0);" class="logo">Eldiiar<span id="ka-logo">KA</span></a>

		<a href="#!" onclick="scene(0);"
			class="navlink navselector active"><span class="material-symbols-rounded">home</span> Home</a>
		<a href="#!" onclick="scene(1);"
			class="navlink navselector active"><span class="material-symbols-rounded">database_search</span>
			Projects</a>
		<a href="#!" onclick="scene(2);"
			class="navlink navselector active"><span class="material-symbols-rounded">developer_mode_tv</span>
			Editor</a>
		<a href="#!" onclick="scene(3);"
			class="navlink navselector active"><span class="material-symbols-rounded">code</span>
			Playground</a>
		</div>
	</nav>
	<div style="height: 70px"></div>

	<div class="scene">
		<div class="container center jumbo" style="
          background-color: var(--primary);
          color: var(--btn-text-color);
          box-shadow: inset 0px 120px 160px rgba(255, 255, 255, 0.2);
        ">
			<h1>Eldiiar KA</h1>
			<p>
				Interactive portfolio of
				<span style="font-weight: 600">Eldiiar Bekbolotov</span>'s Khan
				Academy Computer Programming projects
			</p>
			<button
          onclick="scene(1);"
          class="btn"
          style="margin-bottom: 20px; margin-top: 20px"
        >
          View Projects
          <span class="material-symbols-rounded">arrow_forward</span>
        </button>

			<p class="cool">Featuring</p>
			<h1>316,000+</h1>
			<p class="cool">total lines of code</p>

			<p>
				Single-page application's like websites, games, graphics,
				visualizations, and more. Built with HTML, JavaScript (p5.js,
				ProcessingJS, jQuery, Vue, React, Angular), CSS (Material Design Web,
				Tailwind, Bootstrap, MDBUI), Python, and SQL.
			</p>
		</div>
		<div class="container center jumbo">
			<p class="cool">OVERVIEW</p>
			<h2>Built-in Code Playground</h2>
			<p>
				A complete front end code editor with hot reload and responsive
				design.
			</p>
			<h2>Detailed Program Explorer</h2>
			<p>
				With more detail than Khan Academy itself, you can search all of my
				projects, view program statistics, and read all feedback including
				comments and questions.
			</p>
			<h2>Powerful Editor</h2>
			<p>
				An editor that can run Khan Academy's modified ProcessingJS version
				used by their live coding environment.
			</p>
			<p>
				Khan Academy username:
				<a href="https://www.khanacademy.org/profile/kaid_553656479258879622339276/projects"
					target="_blank">@LeaferStudios</a>
			</p>
		</div>
	</div>

	<div class="scene">
		<input type="text" id="search" placeholder="Search programs..." />
		<div id="programSelectors">
			<div class="spinner" style="margin: 40px 0"></div>
		</div>
	</div>

	<div class="scene">
		<div id="area">
			<div id="loading">
				<div class="center-transform">
					<div class="spinner"></div>
				</div>
			</div>

			<div id="container">
				<div class="top-vv">
					<button
              class="btn btn-outlined"
              style="
                float: left;
                width: 40px;
                height: 40px;
                line-height: 40px;
                text-align: center;
                padding: 0px;
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                left: 10px;
              "
              onclick="scene(1);"
            >
              <span class="material-symbols-rounded" style="margin-bottom: 5px"
                >arrow_back</span
              >
            </button>
					<h2 id="program-title" style="margin-left: 45px; position: relative; top: -5px">
						Program
					</h2>
				</div>
				<div class="editor-iframe">
					<div id="editor"></div>
					<div id="iframebox">
						<iframe id="iframe" frameborder="0"></iframe>
					</div>
				</div>
				<div class="bottom-vv">
					<button id="runButton" class="btn">
              <span class="material-symbols-rounded">play_arrow</span> Restart
            </button>

					<button onclick="openPopup(0);" class="btn-fab">
              <span class="material-symbols-rounded">settings</span>
            </button>
				</div>
			</div>
			<div id="stats"></div>
			<nav class="navbar-flex">
				<a class="navbar-flex-link" onclick="openComments();">Comments</a>
				<a class="navbar-flex-link" onclick="openQuestions();">Questions</a>
			</nav>
			<div id="discussion">
				<div id="questions"></div>
				<div id="comments"></div>
			</div>
		</div>

		<div id='selectProgram'>

			<h1>Choose a Project to Display</h1>
			<p>Please select a program from <span class="material-symbols-rounded">database_search</span> Projects</p>

			<button onclick='scene(1);' class='btn'><span class="material-symbols-rounded">database_search</span> Projects</button>
		</div>
	</div>

	<div class='scene'>
		<div class='container jumbo' style='background-color: rgba(0,0,0,0.5);border-top:2px solid var(--primary);'>
			<h1><span class='material-symbols-rounded' style='font-size:inherit;'>code</span> Playground</h1>
			<p>Online code editors with instant hot reload</p>
		</div>
		<div class='container'>
			<p>Turn <span class='material-symbols-rounded' style='font-size:inherit;'>developer_mode_tv</span> Editor
				into your playground:</p>
			<button class='btn-outlined btn-card' onclick="initialize('html_demo');document.getElementById('selectProgram').style.display='none';scene(2);">

          <h1><span class='material-symbols-rounded' style='font-size:inherit;'>language</span> My Web Playground</h1>
           <ul style='text-align:left;font-weight:400;'>
			<li style='margin:10px 0px;'>Write HTML, CSS, and JavaScript code online</li>
			<li>Auto-runs code in real-time as you type with no delay.</li>
		</ul>
        
      </button>

			<p>More playgrounds coming soon.</p>
		</div>
	</div>

	<div id="zzzz" style="
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999;
        display: none;
        background-color: var(--bg);
      ">
		<div style="padding: 20px">
			<button
          class="btn btn-outlined"
          onclick='ZZZZ("none","");initialize("false");'
        >
          <span class="material-symbols-rounded">arrow_back</span> Back
        </button>
			<button class="btn" onclick="initialize(true);">
          <span class="material-symbols-rounded">calculate</span> Start Scanning
        </button>

			<h4>Scan all programs to get lines of code data</h4>
			<p>
				<b>Warning</b>: This is an experimental feature. You cannot go back
				after starting scan until scan is finished. Takes a few minutes to
				complete.
			</p>

			<div id="zzzz-text"></div>
		</div>
	</div>

	<div class="popup">
		<button
        onclick='openPopup(0,"close");'
        class="btn-fab"
        style="margin: 5px"
      >
        <span class="material-symbols-rounded">close</span>
      </button>

		<div class="container">
			<h2><span class="material-symbols-rounded">settings</span> Options</h2>
			<p>Program options are experimental.</p>
			<a onclick='toggleHotReload();' class="btn-outlined" style='cursor:pointer;padding:5px;display:block;'
				id='hotReloadIndicator'>
				Disable Hot Reload
			</a>
			<p>Hot Reload is always enabled for your code playgrounds.</p>

			<a onclick='ZZZZ("block","");' class="btn-outlined"
				style='margin-top:15px;cursor:pointer;padding:5px;display:block;'>

				<span class="material-symbols-rounded">calculate</span> Run Total
				Lines of Code (All Programs)
			</a>
		</div>
	</div>

	<footer>
		<div style='display:flex;justify-content:space-between;'>
			<p>&copy; 2025 <span id='currentYear'></span> Eldiiar Bekbolotov</p>
			<p>
				<a href='https://github.com/Longfields' target='_blank'>
					<svg style='width:24px;height:24px;' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"
						fill="var(--btn-text-color)" class="h-6 w-6" aria-hidden="true">
						<path
							d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
						</path>
					</svg>
				</a>
			</p>
		</div>
	</footer>
	<script src="https://cdn.jsdelivr.net/npm/@bhavjit/khan-api"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.9.6/ext-language_tools.min.js"
		integrity="sha512-yszTJ9Ko+JGmUNZYpHStWpMg2rSXrh2WjSSZGydzpHY+qOS/3nSgA+hBHUK3RvLhfjycKL8XWEmfUCZod/mEqA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="js/khanapi.min.js"></script>
	<script src="js/ace.min.js"></script>
	<script>
		document.getElementById('currentYear').innerText = (new Date().getFullYear())==2025?'':'- '+new Date().getFullYear();
		let programDetails = [];
      let filteredPrograms = [];
      var hotReload = !true;
      function hideNavbarOnScroll(navbarIndex = 0,navbarHeight=70) {
  let lastScroll = 0;
  const navbars = document.querySelectorAll('.navbar-fixed'); 
  if (navbarIndex >= navbars.length || navbarIndex < 0) {
    console.error('Invalid navbar index');
    return;
  }
let timeoutId;
  const navbar = navbars[navbarIndex]; 
  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
if (currentScroll <= navbarHeight) {
navbar.classList.remove('hide');
return;
}
 if (timeoutId) {
    clearTimeout(timeoutId);
  }

    if (currentScroll > lastScroll && !navbar.classList.contains('hide')) {
      // Scrolling down, hide the navbar
	
	navbar.classList.add('hide');

    } else if (currentScroll < lastScroll && navbar.classList.contains('hide')) {
      // Scrolling up, show the navbar
      timeoutId = setTimeout(() => {
      navbar.classList.remove('hide');}, 50);
    }

    lastScroll = currentScroll;
  });
}

hideNavbarOnScroll(0,70);

			function toggleHotReload() {
				if (hotReload===true){
					hotReload=false;
					document.getElementById('hotReloadIndicator').innerHTML='<span class="material-symbols-rounded">flash_on</span> Enable Hot Reload';
				initialize("ok");
				}
				else{
					hotReload=true;
					document.getElementById('hotReloadIndicator').innerHTML='<span class="material-symbols-rounded">flash_off</span> Disable Hot Reload';		
				initialize("ok");
				}
			}
			toggleHotReload();
      const hardCodedClassifications = {
        6207078986629120: 2,
        4934504502870016: 4,
        5233673001156608: 2,
        5523316154515456: 3,
        6383058550865920: 2,
        4693131481530368: 3,
        6223971025469440: 3,
        6363163034206208: 2,
        6061832092860416: 3,
        5408594426773504: 5,
        6382670422622208: 1,
        6431239874985984: 5,
        4768036735336448: 5,
        6481216860536832: 5,
        6162668879527936: 3,
        5456240516710400: 5,
        5213888244137984: 4,
        5283314913427456: 5,
        4849868895338496: 5,
        4968647857487872: 4,
        5837126102335488: 5,
        4940793064636416: 4,
        4579001830555648: 2,
        5436065676181504: 3,
        5798901498036224: 2,
        6325135932735488: 2,
        4560473296814080: 2,
        5459582691753984: 3,
        5471838495490048: 4,
        5325880494833664: 4,
        5937470507499520: 2,
        6205763913203712: 3,
        6584697338150912: 3,
        4924266766188544: 1,
        5078841157009408: 5,
        5204449189380096: 4,
        6174895830253568: 4,
        4965930845290496: 2,
        6353685712912384: 2,
        5419506097143808: 2,
        5954821031116800: 4,
        6052427462557696: 3,
        6095676892299264: 4,
        5003752255438848: 3,
        6753108486045696: 1,
        6556017085792256: 1,
        5562123364024320: 1,
        4614997930328064: 5,
        5642547981893632: 4,
        6209038904541184: 3,
        4992698549223424: 3,
        6347232740327424: 1,
        5061659131330560: 5,
        5672189914955776: 5,
        6678198796042240: 3,
        4684581029330944: 5,
        5141052262662144: 3,
        5329681729667072: 3,
        6715778860761088: 4,
        4879050588635136: 3,
        6142687208456192: 3,
        5072233106423808: 5,
        4878906031259648: 5,
        5950645532147712: 4,
        6718170219069440: 2,
        5190520652611584: 5,
        5859710558748672: 4,
        5606224823369728: 5,
        5615360125485056: 2,
        6431467903565824: 3,
        5197996313985024: 3,
        5308181993177088: 3,
        5508955041251328: 1,
        6170170700414976: 1,
        6268815929196544: 5,
        6350006829629440: 1,
        5035323277230080: 2,
        6222978941894656: 3,
        4736336924164096: 4,
        5468046539440128: 3,
        5709910973169664: 3,
        6245474705522688: 3,
        6422934475849728: 3,
        5253002344710144: 2,
        6712526268448768: 2,
        4641570803990528: 5,
        5015694041628672: 1,
        5809313276706816: 1,
        5236237205291008: 4,
        5357539694788608: 1,
        5522039029022720: 1,
        6036540180840448: 1,
        5172960206962688: 2,
        5251948720832512: 3,
        5339088470294528: 3,
        5448466438995968: 1,
        4829416582201344: 4,
        5712342008774656: 1,
        5790800937828352: 1,
        6222761408020480: 3,
        5511907747119104: 1,
        6401674100686848: 1,
        5337617094492160: 1,
        6018256893853696: 2,
        6022685672816640: 3,
        6148163812376576: 2,
        4841267216957440: 3,
        5368366275674112: 3,
        6115301052301312: 1,
        6239448646631424: 1,
        6002270529437696: 1,
        6065714963464192: 2,
        5159517843537920: 3,
        5535456177864704: 2,
        5993006843346944: 3,
        5888601423527936: 3,
        6083179799855104: 2,
        6106335208357888: 2,
        5341541026840576: 1,
        5420760428920832: 2,
        5449294586003456: 1,
        5803131659698176: 2,
        5811954308759552: 1,
        6359313172316160: 3,
        6646311118356480: 1,
        6680393239445504: 3,
        4992547107291136: 3,
        5099719694532608: 2,
        6670213844484096: 1,
        5786336316309504: 2,
        6384093907795968: 2,
        5912197511593984: 2,
        6374296320163840: 1,
        4943206119948288: 2,
        5156291889905664: 1,
        6103036399501312: 1,
        4929494573727744: 1,
        5215620167680000: 1,
        6096274328076288: 1,
        4610661032476672: 1,
        6538102689677312: 2,
        4562266354958336: 2,
        4902929045471232: 2,
        5270732222119936: 2,
        5313728033669120: 1,
        5610592341016576: 1,
        4539000268603392: 1,
        5771732937687040: 1,
        5787900390031360: 1,
        5906466437218304: 1,
        6101792480116736: 2,
        4805998034239488: 1,
        4858982187548672: 1,
        5173842937266176: 1,
        5399970846556160: 1,
        5639913895182336: 1,
        5985179355398144: 3,
        6562830954840064: 1,
        4627458037334016: 1,
        5129326365130752: 1,
        5802609636098048: 1,
        5736126298406912: 1,
        6023962118406144: 1,
        6026577304436736: 2,
        6377046460416000: 1,
        4531406903001088: 1,
        4605213961568256: 1,
        4753918520770560: 1,
        4779565218316288: 1,
        4829169971511296: 1,
        5102723988340736: 2,
        5450577091575808: 2,
        5700563753844736: 1,
        5747607242162176: 1,
        6547611529854976: 1,
        5663613152542720: 1,
        6503201387233280: 1,
        6670491001438208: 2,
        4734024957739008: 1,
        4859075078438912: 1,
        4893992663826432: 1,
        4984429117521920: 1,
        5414046480547840: 2,
        5942890194616320: 2,
        6099476296024064: 1,
        6469683440599040: 1,
        4648096998014976: 1,
        4821069891584000: 2,
        5290034433179648: 1,
        5650486642950144: 1,
        5924166681542656: 1,
        6496624772694016: 2,
        6655622412156928: 1,
        4531253472444416: 2,
        4560170243276800: 1,
        4793651571539968: 1,
        5220270397931520: 1,
        5263605841838080: 2,
        5444921857556480: 1,
        5693470625939456: 1,
        5879310896480256: 1,
        5902360688607232: 1,
        6266304368558080: 1,
        6700325706350592: 1,
        5086820226351104: 1,
        5585886051876864: 1,
        5675375201402880: 1,
        5763222547349504: 1,
        6020601340051456: 1,
        6044641413120000: 1,
        6278770254823424: 1,
        6480976951164928: 1,
        4558958805172224: 1,
        4612630785048576: 1,
        4660035479191552: 1,
        4773936601120768: 1,
        5370123003314176: 1,
        5425416661188608: 1,
        5494291277037568: 1,
        5580615910211584: 1,
        5859199227838464: 1,
        6238329903988736: 1,
        6388372758478848: 1,
        6530560752762880: 1,
        6716849003315200: 1,
        4592927537938432: 1,
        4676260120018944: 1,
        4709746420793344: 1,
        4723908335714304: 1,
        4820758437117952: 1,
        5277868628951040: 1,
        5308510599200768: 2,
        5313254568574976: 1,
        5404938127491072: 1,
        5431587850371072: 1,
        5812150819930112: 1,
        5814136635998208: 1,
        6013103704686592: 3,
        6257234627477504: 1,
        6302175914311680: 1,
        6395615415713792: 1,
        6531608988696576: 2,
        6532353420312576: 2,
        6549880169611264: 1,
        6650100580761600: 1,
        6651324333375488: 2,
        6691914776723456: 1,
        4574117659459584: 1,
        4583894566125568: 1,
        4635850850254848: 1,
        4646687561367552: 1,
        4705148357132288: 1,
        4784546818637824: 1,
        4806676461436928: 1,
        4854545678745600: 1,
        4865323186307072: 1,
        4870014035771392: 1,
        5011479363371008: 1,
        5050630489194496: 1,
        5087275651317760: 0,
        5121323783208960: 1,
        5266793227665408: 1,
        5426245606719488: 1,
        5446626760605696: 1,
        5507768294785024: 1,
        5647108172627968: 1,
        5746035914883072: 1,
        5763029415182336: 1,
        5867834484801536: 1,
        5932644200955904: 1,
        6077647943942144: 1,
        6459677248405504: 1,
        6615539412156416: 1,
        6658580663713792: 1,
        6712587718180864: 2,
        6717905650925568: 1,
        6748490484989952: 1,
        4535945231220736: 1,
        4563748938268672: 1,
        4614918920421376: 1,
        4630005970321408: 1,
        4692290326970368: 1,
        4704126885642240: 1,
        4707384302649344: 1,
        4729685446049792: 1,
        4835817239953408: 1,
        4871903239684096: 1,
        4889216701120512: 1,
        4914120953741312: 1,
        4917539071279104: 1,
        5045654773383168: 2,
        5060368789749760: 2,
        5099919663382528: 1,
        5152662262333440: 1,
        5156393294446592: 1,
        5174046827823104: 1,
        5204680742420480: 1,
        5225067281465344: 1,
        5252157149364224: 1,
        5300708771577856: 1,
        5323128434278400: 1,
        5331618666201088: 1,
        5367921672241152: 1,
        5464240784326656: 1,
        5511904031096832: 1,
        5522028630458368: 1,
        5609863614119936: 1,
        5616479459164160: 1,
        5638999737188352: 1,
        5643245228212224: 1,
        5665235038289920: 1,
        5721006125432832: 1,
        5869598003118080: 1,
        5937393784537088: 1,
        6020253990338560: 2,
        6023304867364864: 1,
        6063884580503552: 1,
        6121385907535872: 1,
        6124313667846144: 1,
        6218021932154880: 1,
        6224535598972928: 1,
        6235752096645120: 1,
        6284459234082816: 1,
        6296583245479936: 1,
        6313778126209024: 1,
        6316972558204928: 1,
        6378748788424704: 1,
        6445245950935040: 1,
        6452375467933696: 1,
        6488226696609792: 1,
        6517243642724352: 1,
        6532432610246656: 1,
        6567781906464768: 1,
        6572423199145984: 1,
        6602319467462656: 1,
        6605089205993472: 1,
        6630100552007680: 1,
        6673746735218688: 1,
        6681624818794496: 1,
        6682390736617472: 1,
        6703361216397312: 1,
        6737256158380032: 1,
        6743061775728640: 1,
        6751719988740096: 1,
        4509612848529408: 1,
        4510680343199744: 1,
        4523161550897152: 1,
        4541180639002624: 1,
        4541676087296000: 1,
        4551758141014016: 1,
        4563854721105920: 1,
        4580396051546112: 1,
        4587144849735680: 1,
        4596361130360832: 1,
        4626118394036224: 1,
        4630607043444736: 1,
        4637863013335040: 1,
        4640753634066432: 1,
        4656106644062208: 1,
        4657550598815744: 1,
        4664872725790720: 1,
        4681119964020736: 1,
        4690259817840640: 1,
        4702974893047808: 1,
        4725706322296832: 1,
        4725913333678080: 1,
        4728306949996544: 1,
        4728526905622528: 1,
        4753062394019840: 1,
        4761144884346880: 1,
        4767325741203456: 1,
        4770894677164032: 1,
        4783016359542784: 1,
        4790773201059840: 1,
        4797953841086464: 1,
        4805110132457472: 1,
        4805700821073920: 1,
        4825222176260096: 1,
        4861584249274368: 1,
        4865296302948352: 1,
        4887370803527680: 1,
        4901195135664128: 1,
        4903492931108864: 1,
        4913225380282368: 1,
        4929008925884416: 1,
        4933083089911808: 1,
        4943587005841408: 1,
        4950051774840832: 1,
        4951592107851776: 1,
        4958750511513600: 1,
        4976677407506432: 1,
        4987751082573824: 1,
        4991378807930880: 1,
        4996884145455104: 1,
        5016581260230656: 1,
        5017592179146752: 1,
        5039909574361088: 1,
        5060893563502592: 1,
        5062249623535616: 1,
        5062960899244032: 1,
        5071925293826048: 1,
        5088702442127360: 1,
        5103265326088192: 1,
        5103579724398592: 1,
        5107199313002496: 1,
        5152474531577856: 1,
        5171028386463744: 1,
        5201483378802688: 1,
        5201742095269888: 1,
        5208318122803200: 1,
        5210476751306752: 1,
        5232859252342784: 1,
        5238430020222976: 1,
        5241640612085760: 1,
        5251061020966912: 1,
        5252945299456000: 1,
        5255217577410560: 1,
        5272739200942080: 1,
        5279536353984512: 1,
        5290773603893248: 1,
        5302142075715584: 1,
        5305849454739456: 1,
        5316419578281984: 1,
        5328717761036288: 1,
        5335460405002240: 1,
        5338014293311488: 1,
        5343751734378496: 1,
        5346601363128320: 1,
        5362704479731712: 1,
        5379234995322880: 1,
        5383404857409536: 1,
        5399310304690176: 1,
        5400229640749056: 1,
        5406306138537984: 1,
        5415900602777600: 1,
        5420179011354624: 2,
        5421448567275520: 1,
        5423330703785984: 1,
        5427115276451840: 1,
        5438721124777984: 1,
        5442492973662208: 1,
        5464944672653312: 1,
        5485324051628032: 1,
        5488396193447936: 1,
        5496219638120448: 1,
        5499619089137664: 1,
        5505149685514240: 1,
        5507110497763328: 1,
        5510612477231104: 1,
        5510754237235200: 1,
        5588315042168832: 1,
        5595724310593536: 1,
        5596759975870464: 1,
        5616593130110976: 1,
        5619598490943488: 1,
        5627851899486208: 1,
        5633645684768768: 1,
        5634021213683712: 1,
        5641325720715264: 1,
        5669439390433280: 1,
        5690623325847552: 1,
        5709262178828288: 1,
        5712262014124032: 2,
        5715796387577856: 1,
        5717117422682112: 1,
        5746982704693248: 1,
        5750362571620352: 1,
        5750831863185408: 1,
        5760414246027264: 1,
        5768291443884032: 1,
        5777539935911936: 1,
        5778539751096320: 1,
        5795474717229056: 1,
        5833840588439552: 1,
        5837133219053568: 1,
        5863831761403904: 1,
        5881194449420288: 1,
        5885376512737280: 1,
        5887577966919680: 1,
        5905106795839488: 1,
        5907718813990912: 1,
        5913100038389760: 1,
        5926348260851712: 1,
        5929897898098688: 1,
        5937522509168640: 1,
        5944635064664064: 1,
        5960638550917120: 1,
        5962135536451584: 1,
        5965089456472064: 1,
        5968561458003968: 1,
        5976682966958080: 1,
        6000480996900864: 1,
        6032621845757952: 1,
        6036370912002048: 1,
        6045972494630912: 1,
        6050974772969472: 1,
        6062932652146688: 1,
        6065083669364736: 1,
        6074273741750272: 1,
        6078485459058688: 1,
        6080031142395904: 1,
        6082955614404608: 1,
        6086104138596352: 1,
        6089005420068864: 1,
        6115159244324864: 2,
        6125294514159616: 1,
        6127949968359424: 1,
        6133265426759680: 1,
        6135674172293120: 1,
        6135917296041984: 1,
        6137038496481280: 1,
        6140590539882496: 1,
        6144026078035968: 1,
        6152604698492928: 1,
        6155577674055680: 1,
        6163315427328000: 1,
        6180921462898688: 1,
        6183269559517184: 1,
        6184272121380864: 1,
        6185983211290624: 1,
        6209593259147264: 1,
        6212244043415552: 1,
        6217384344764416: 1,
        6240555511922688: 1,
        6246745997393920: 1,
        6261797608013824: 1,
        6267754096181248: 1,
        6278917463031808: 1,
        6303356106915840: 1,
        6308769520893952: 1,
        6313157611896832: 1,
        6315510572466176: 1,
        6323167974998016: 1,
        6324334366244864: 1,
        6338494566055936: 1,
        6343124700708864: 1,
        6345517042712576: 1,
        6366761210429440: 1,
        6387795409190912: 1,
        6422485306785792: 1,
        6424604689448960: 1,
        6425219178119168: 1,
        6428815884861440: 1,
        6434982016925696: 1,
        6435305354510336: 1,
        6435627803295744: 1,
        6444608208289792: 1,
        6445698400337920: 1,
        6458731032559616: 1,
        6493498234519552: 1,
        6496306891145216: 1,
        6507718085525504: 1,
        6524136731000832: 1,
        6561427067977728: 1,
        6570432128237568: 1,
        6584501592997888: 1,
        6588382159388672: 1,
        6589352350007296: 1,
        6622712646025216: 1,
        6646137194364928: 1,
        6658269656268800: 1,
        6671765834514432: 1,
        6672537033261056: 1,
        6677901204733952: 1,
        6683336817721344: 1,
        6693192047738880: 1,
        6694097377640448: 1,
        6714628662181888: 1,
        6722793985884160: 3,
        6727548555575296: 1,
        6740413989732352: 1,
        6743901523755008: 1,
        4509966123089920: 1,
        4519994506756096: 1,
        4524219368357888: 1,
        4537651386990592: 1,
        4542291885244416: 1,
        4569124376297472: 1,
        4627025744445440: 1,
        4637327413821440: 1,
        4639304859336704: 1,
        4651914248929280: 1,
        4698800942301184: 1,
        4707350007595008: 1,
        4715440247816192: 1,
        4746407014973440: 1,
        4755144725020672: 1,
        4797198387527680: 1,
        4830149417975808: 1,
        4839259351891968: 1,
        4841496454447104: 1,
        4864286212571136: 1,
        4868273805803520: 1,
        4871897843580928: 1,
        4890554447511552: 1,
        4906352256106496: 1,
        4946067395919872: 1,
        4956506195116032: 1,
        5053273966985216: 1,
        5077628629368832: 1,
        5091773394796544: 1,
        5110630423347200: 1,
        5111514279067648: 1,
        5124013242531840: 1,
        5137744084221952: 1,
        5143680790708224: 1,
        5169264427614208: 2,
        5182217622863872: 1,
        5183868803891200: 1,
        5185934450049024: 1,
        5200925848846336: 1,
        5201050794868736: 1,
        5213763379740672: 1,
        5221912528764928: 1,
        5237652225998848: 1,
        5274982660915200: 1,
        5302727146029056: 1,
        5329739146936320: 1,
        5351799066279936: 1,
        5373630217797632: 1,
        5414344036007936: 1,
        5428061034397696: 1,
        5436461699973120: 1,
        5438051570761728: 1,
        5447079074545664: 1,
        5453465412124672: 1,
        5483933916545024: 1,
        5491277370572800: 1,
        5504289197408256: 1,
        5537206971187200: 1,
        5558168526929920: 1,
        5559353597116416: 1,
        5560576235880448: 1,
        5560633523486720: 1,
        5597778350063616: 1,
        5627435009851392: 1,
        5676434984091648: 1,
        5706615184506880: 2,
        5707436674859008: 1,
        5712546111045632: 1,
        5714076266545152: 1,
        5729343709462528: 1,
        5730076776022016: 1,
        5737947907571712: 1,
        5745931181441024: 1,
        5774092355584000: 1,
        5779702436741120: 1,
        5789878065643520: 1,
        5800350722506752: 1,
        5815801111199744: 1,
        5821885637148672: 1,
        5826985218097152: 1,
        5840585516007424: 1,
        5850181012111360: 1,
        5859574624894976: 1,
        5868856291966976: 1,
        5869341607149568: 1,
        5871280731275264: 1,
        5872903187939328: 1,
        5874251686363136: 1,
        5877713083121664: 1,
        5881728438255616: 1,
        5892692329447424: 1,
        5903651050176512: 1,
        5933419645779968: 1,
        5938050750824448: 1,
        5972705305313280: 1,
        5982932327940096: 1,
        5990340100964352: 1,
        5999744197672960: 1,
        6007099980922880: 1,
        6027427890151424: 1,
        6036040775188480: 1,
        6046209306607616: 1,
        6053767027965952: 1,
        6054763285528576: 1,
        6064419288989696: 1,
        6066988661161984: 1,
        6067837300260864: 1,
        6074054763167744: 1,
        6111876623679488: 1,
        6118674218696704: 1,
        6139134256037888: 1,
        6148822428172288: 1,
        6168067543023616: 1,
        6180893433348096: 2,
        6200560472965120: 1,
        6220372114817024: 1,
        6223646305959936: 1,
        6247995061780480: 1,
        6250421561212928: 1,
        6256246626861056: 1,
        6277705684107264: 1,
        6294974545936384: 1,
        6312468904558592: 1,
        6331895683366912: 1,
        6348349544808448: 1,
        6348420827987968: 1,
        6367528450867200: 1,
        6370494430658560: 1,
        6400428035358720: 1,
        6417557168406528: 1,
        6439730202361856: 1,
        6491738651836416: 1,
        6502991331016704: 1,
        6503668877967360: 2,
        6512381202481152: 1,
        6515019903549440: 1,
        6525966199373824: 1,
        6527579193950208: 1,
        6531405045972992: 1,
        6547527515586560: 1,
        6547593208086528: 1,
        6555240070201344: 1,
        6556735161057280: 1,
        6574302045814784: 1,
        6594152370683904: 1,
        6632480738525184: 1,
        6633066120953856: 1,
        6649500264644608: 1,
        6677936098852864: 1,
        6687760515022848: 1,
        6709798401359872: 1,
        6740255183093760: 1,
      };
      function toggleNav() {
        document.getElementById("sidenav").classList.toggle("on");
        document.getElementById("overlay").classList.toggle("on");
      }
      // scene switch function
      /*function scene(index) {
          // scroll to top of page (and left of page if applicable)
          window.scroll({
              top: 0,
              left: 0,
              behavior: 'smooth'
          });
          // loop over all scenes
          for (var i = 0; i < document.querySelectorAll('.scene').length; i++) {
              // hide all pages
              document.querySelectorAll('.scene')[i].style.display = 'none'; // visibility = hidden/visible does not work with fadeIn
              // if page isnt first page, show fadein animation
              if (index !== 0) {
                  document.querySelectorAll('.scene')[i].style.animation = '1s fadeIn forwards';
              }
          }
          // navlink decoration (underline)
          for (var i = 0; i < document.querySelectorAll('.navselector').length; i++) {
              document.querySelectorAll('.navselector')[i].classList.remove('active');
          }
          // show called scene and corresponding navlink decoration based on index
          document.querySelectorAll('.scene')[index].style.display = 'block';
          document.querySelectorAll('.navselector')[index].classList.add('active');
      }*/
      function scene(index) {
        const scenes = document.querySelectorAll(".scene");
        const navSelectors = document.querySelectorAll(".navselector");

        // Scroll to top
        window.scrollTo({
          top: 0,
          left: 0,
          /*behavior: "smooth",*/
        });

        // Update visibility and animations
        scenes.forEach((scene, i) => {
          scene.style.display = i === index ? "block" : "none";
          scene.style.animation = index !== 0 ? "1s fadeIn forwards" : "";
        });

        // Update nav link decoration
        navSelectors.forEach((nav, i) => {
          nav.classList.toggle("active", i === index);
        });
        document.querySelectorAll(".mobile-navlink").forEach((navMobil, i) => {
          navMobil.classList.toggle("active", i === index);
        });
      }
      function openPopup(index, type) {
			/*document.querySelectorAll(".popup").forEach((popup, index) => {
			popup.style.display = 'none';
			});*/
        if (type === "close") {
          document.getElementsByClassName("popup")[index].style.animation =
            "0.3s slideOut forwards";
        } else {
          document.getElementsByClassName("popup")[index].style.animation =
            "0.6s slideIn forwards";
        }
      }
      async function fetchProgramDetails() {
        document.getElementById("loading").style.display = "block";
        try {
          const client = new KhanAPI.Client();
          const programs = await client.getAllUserPrograms("LeaferStudios");

          return programs.map((program) => ({
            id: program.id,
            title: program.rawData.translatedTitle,
            width: program.rawData.width,
            height: program.rawData.height,
            votes: program.votes,
            spinOffCount: program.spinOffCount,
            classification: hardCodedClassifications[program.id] || 0,
            /*src: `https://www.khanacademy.org/computer-programming/i/${program.id}/${program.thumbnailID}.png`,*/
            thumbnailID: program.thumbnailID,
            type: "ace/mode/html",
          }));
        } catch (error) {
          //console.error(error);
          return [];
        } finally {
          document.getElementById("loading").style.display = "none";
        }
      }

      async function fetchProgramCode(programId) {
        try {
          document.getElementById("loading").style.display = "block";

          const client = new KhanAPI.Client();
          const program = await client.getProgram(programId);
          return program.code;
        } catch (error) {
          //console.error(error);
          return null;
        } finally {
          document.getElementById("loading").style.display = "none";
        }
      }

      async function fetchProgramLanguage(programId) {
        try {
          const client = new KhanAPI.Client();
          const program = await client.getProgram(programId);
          return program.rawData.userAuthoredContentType;
        } catch (error) {
          //console.error(error);
          return null;
        }
      }

      async function fetchProgramWidth(programId) {
        try {
          const client = new KhanAPI.Client();
          const program = await client.getProgram(programId);
          return program.width;
        } catch (error) {
          //console.error(error);
          return null;
        }
      }
      async function fetchProgramHeight(programId) {
        try {
          const client = new KhanAPI.Client();
          const program = await client.getProgram(programId);
          return program.height;
        } catch (error) {
          //console.error(error);
          return null;
        }
      }
      
      async function fetchProgramStats(programId) {
        try {
          document.getElementById(
            "comments"
          ).innerHTML = `Loading program comments..`;
          document.getElementById(
            "questions"
          ).innerHTML = `Loading program questions..`;
          document.getElementById(
            "stats"
          ).innerHTML = `Loading program statistics...`;

          const client = new KhanAPI.Client();
          const program = await client.getProgram(programId);

          let allTipsAndThanks = [];
          try {
            for await (const tipsAndThanksBatch of program.getTipsAndThanks?.() ||
              []) {
              allTipsAndThanks = allTipsAndThanks.concat(
                tipsAndThanksBatch || []
              );
            }
          } catch (error) {
            allTipsAndThanks = [];
          }

          let allQuestions = [];
          try {
            for await (const questionsBatch of program.getQuestions?.() || []) {
              allQuestions = allQuestions.concat(questionsBatch || []);
            }
          } catch (error) {
            allQuestions = [];
          }

          return {
            votes: program.votes || 0,
            lines: program.lines || 0,
            created: program.created || null,
            updated: program.updated || null,
            type: program.rawData.userAuthoredContentType,
            url: program.url || "",
            tipsAndThanks: allTipsAndThanks,
            replyCount: allTipsAndThanks.length || 0,
            questions: allQuestions,
            questionCount: allQuestions.length || 0,
          };
        } catch (error) {
          //console.error(error);
          return null;
        } finally {
          document.getElementById("comments").innerHTML = ``;
          document.getElementById("questions").innerHTML = ``;
        }
      }
const code1 = `<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>My Web Playground</title>
</head>

<body>

</body>

</html>`;
      async function setupEditor(programIndex) {
        if (programIndex==='html_demo'){
         
const editor1 = ace.edit("editor");

const width1 = 600;
const height1 = 600;
	editor1.setValue(code1, -1);
	if (window.innerWidth >= 900) {
	document.getElementById("editor").style.minHeight = `${height1}px`;
	} else {
	document.getElementById("editor").style.minHeight = `50vh`;
	}
//if (hotReload === true) {
editor1.getSession().on("change", function () {
update(editor1.getValue(), width1, height1, 'ace/mode/html',true);
});
//}
editor1.setTheme("ace/theme/tomorrow_night");
editor1.getSession().setMode('ace/mode/html');
editor1.session.setUseWrapMode(true);
editor1.setOptions({
fontSize: "11pt",
showLineNumbers: true,
showGutter: true,
vScrollBarAlwaysVisible: true,
enableBasicAutocompletion: true,
enableSnippets: true,
enableLiveAutocompletion: true,
});
editor1.setShowPrintMargin(false);
editor1.setBehavioursEnabled(false);
editor1.commands.addCommand({
name: "myCommand",
bindKey: {
win: "Ctrl-Enter",
mac: "Command-Enter",
},
exec: function (editor1) {
runCode();
},
readOnly: true, // false if this command should not apply in readOnly mode
// multiSelectAction: "forEach", optional way to control behavior with multiple cursors
// scrollIntoView: "cursor", control how cursor is scolled into view after the command
});

update(code1, width1, height1, 'ace/mode/html',true);document.getElementById("comments").innerHTML = `<div class='comment'>
	<h2 class='center'>No comments yet.</h2>

</div>`;document.getElementById(
"questions"
).innerHTML = `<div class='comment'>
	<h2 class='center'>No questions yet.</h2>

</div>`;
        }else{
        const editor = ace.edit("editor");
        const selectedProgram = filteredPrograms[programIndex];
        const code = await fetchProgramCode(selectedProgram.id);
        const language = await fetchProgramLanguage(selectedProgram.id);

        if (language === "PJS") {
          var width = await fetchProgramWidth(selectedProgram.id);

          //if (window.innerWidth >= 901) {
          // document.getElementById('editor').style.minWidth = `calc(100%-${width}px)`;
          //}
        } else {
          var width = 600;
        }

        var height = await fetchProgramHeight(selectedProgram.id);
        editor.setValue(code, -1);
        if (window.innerWidth >= 900) {
          document.getElementById("editor").style.minHeight = `${height}px`;
        } else {
          document.getElementById("editor").style.minHeight = `50vh`;
        }
        let aceMode;
        if (language === "PJS") {
          aceMode = "ace/mode/javascript";
          selectedProgram.type = aceMode;
        }
        if (language === "WEBPAGE") {
          aceMode = "ace/mode/html";
          selectedProgram.type = aceMode;
        }
        if (language === "SQL") {
          aceMode = "ace/mode/sql";
          selectedProgram.type = aceMode;
        }
        if (language === "PYTHON") {
          aceMode = "ace/mode/python";
          selectedProgram.type = aceMode;
        }

        if (hotReload === true) {
          editor.getSession().on("change", function () {
            update(editor.getValue(), width, height, aceMode,false);
          });
        }
				//ace.require("ace/ext/language_tools");
        editor.setTheme("ace/theme/tomorrow_night");
        editor.getSession().setMode(aceMode);
        editor.session.setUseWrapMode(true);
        editor.setOptions({
          fontSize: "11pt",
          showLineNumbers: true,
          showGutter: true,
          vScrollBarAlwaysVisible: true,
          enableBasicAutocompletion: true,
					enableSnippets: true,
          enableLiveAutocompletion: true,
        });
        editor.setShowPrintMargin(false);
        editor.setBehavioursEnabled(false);
        editor.commands.addCommand({
          name: "myCommand",
          bindKey: {
            win: "Ctrl-Enter",
            mac: "Command-Enter",
          },
          exec: function (editor) {
            runCode();
          },
          readOnly: true, // false if this command should not apply in readOnly mode
          // multiSelectAction: "forEach", optional way to control behavior with multiple cursors
          // scrollIntoView: "cursor", control how cursor is scolled into view after the command
        });

        update(code, width, height, aceMode,false);
        /*filteredPrograms[
        document
          .querySelector(".programSelector.active")
          ?.getAttribute("data-index")
      ].type = aceMode;*/
       const stats = await fetchProgramStats(selectedProgram.id);
        //console.log(stats.tipsAndThanks);
        document.getElementById("stats").innerHTML = `
            <ul>
               
<li><span class="material-symbols-rounded">favorite</span> ${stats.votes} Votes</li>
<li><span class="material-symbols-rounded">code</span> ${stats.lines} Lines of code</li>
<li> <span class="material-symbols-rounded">forum</span> ${stats.replyCount} Comments</li>
               <li> <span class="material-symbols-rounded">contact_support</span> ${stats.questionCount} Questions</li>
<li><span class="material-symbols-rounded">calendar_month</span> Created ${stats.created}</li>
<li><span class="material-symbols-rounded">history</span> Created ${stats.updated}</li>
<li><span class="material-symbols-rounded">language</span> Type: ${language}</li>
<li><span class="material-symbols-rounded">open_in_new</span> <a href=${stats.url} target='_blank'>Visit on Khan Academy</a></li>
</ul>
`;

        if (stats.tipsAndThanks && stats.tipsAndThanks.length >= 1) {
          let tipsAndThanksHTML = "";
          for (const tipAndThank of stats.tipsAndThanks) {
            if (
              tipAndThank &&
              tipAndThank.rawData &&
              tipAndThank.rawData.content
            ) {
              const commentDiv = document.createElement("div");
              commentDiv.className = "comment";

              commentDiv.innerHTML += `<h2><a href='https://www.khanacademy.org/profile/${tipAndThank.author.kaid}' target='_blank'>${tipAndThank.author.nickname}</a></h2><p>${tipAndThank.created}</p>`;
              //console.log(tipAndThank);

              const pElement = document.createElement("p");
              pElement.textContent = tipAndThank.text;
              commentDiv.appendChild(pElement);
              commentDiv.innerHTML += `<div><a href='#!'  class='thumbtn'><span class="material-symbols-rounded">thumb_up</span> ${tipAndThank.votes}</a> <a href='https://www.khanacademy.org/computer-programming/i/${selectedProgram.id}?qa_expand_key=${tipAndThank.key}&qa_expand_type=comment' target='_blank' class='thumbtn'><span class="material-symbols-rounded">comment</span> ${tipAndThank.replyCount}</a></div>`;
              tipsAndThanksHTML += commentDiv.innerHTML;
            }
          }
          document.getElementById("comments").innerHTML += tipsAndThanksHTML;
        } else if (stats.tipsAndThanks.length === 0) {
          document.getElementById("comments").innerHTML = `<div class='comment'>
      <h2 class='center'>No comments yet.</h2>

      </div>`;
        }
        if (stats.questions && stats.questions.length >= 1) {
          let questionsHTML = "";
          for (const qs of stats.questions) {
            if (qs && qs.rawData && qs.rawData.content) {
              const commentDiv = document.createElement("div");
              commentDiv.className = "question";

              commentDiv.innerHTML += `<h2><a href='https://www.khanacademy.org/profile/${qs.author.kaid}' target='_blank'>${qs.author.nickname}</a></h2><p>${qs.created}</p>`;
              //console.log(tipAndThank);

              const pElement = document.createElement("p");
              pElement.textContent = qs.text;
              commentDiv.appendChild(pElement);
              commentDiv.innerHTML += `<div><a href='#!'  class='thumbtn'><span class="material-symbols-rounded">thumb_up</span> ${qs.votes}</a> <a href='https://www.khanacademy.org/computer-programming/i/${selectedProgram.id}?qa_expand_key=${qs.key}&qa_expand_type=question' target='_blank' class='thumbtn'><span class="material-symbols-rounded">comment</span> ${qs.replyCount}</a></div>`;
              questionsHTML += commentDiv.innerHTML;
            }
          }
          document.getElementById("questions").innerHTML += questionsHTML;
        } else if (stats.questions.length === 0) {
          document.getElementById(
            "questions"
          ).innerHTML = `<div class='comment'>
      <h2 class='center'>No questions yet.</h2>

      </div>`;
        }
      }}

      function update(code, widths, heights, aceMod,demo=false) {
        var iframe = document.getElementById("iframe");
        const idoc = iframe.contentWindow.document;
        idoc.open();

        if (aceMod === "ace/mode/html") {
          idoc.write(code);
        } else if (aceMod === "ace/mode/javascript") {
          // Write the base HTML structure
          idoc.write(`
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>
    <style>
        html, body, #wrapper {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
            width: calc(100% + 1px);
        }
        canvas {
            width: fit-content;
            height: fit-content;
        }
        canvas:focus {
            outline: none;
        }
        #wrapper {
            padding: 0px;
            margin: 0px;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
    </style>
</head>
<body id="wrapper">

    <canvas class="sketch"></canvas>
</body>
</html>
`);
          idoc.close(); // Close the document to finalize the base HTML structure

          // Create and add external scripts
          const pjsScript = idoc.createElement("script");
          // pjsScript.src ="https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.js";
          pjsScript.src =
            "https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.min.js";
          pjsScript.onload = function () {
            // Once Processing.js is loaded, add the exporter script
            const exporterScript = idoc.createElement("script");
            exporterScript.src =
              "https://cdn.jsdelivr.net/gh/Mushy-Avocado/KA-exporter@v1.0.1/exporter.js";
            exporterScript.onload = function () {
              // Once both scripts are loaded, add the program script
              const programScript = idoc.createElement("script");
              programScript.type = "application/javascript";
              programScript.textContent = `
            function program() {
var Program = {
		    restart: function(){
//window.location.reload.bind(window)		        
alert('Program restart is not available in Eldiiar KA yet. Please re-run the program manually or go to Khan Academy.');
		    }
		};
                title("");
                size(${widths}, ${heights});
                ${code} 
            }
            runPJS(program);
        `;
              idoc.body.appendChild(programScript);
            };
            idoc.body.appendChild(exporterScript);
          };
          idoc.body.appendChild(pjsScript);
        } else if (aceMod === "ace/mode/sql") {
          idoc.write(
            "<h2>SQL programs are in beta testing. They currently cannot be run here.</h2>"
          );
          idoc.close();
        } else if (aceMod === "ace/mode/python") {
          idoc.write(
            "<h2>Python programs are in beta testing. They currently cannot be run here.</h2>"
          );
          idoc.close();
        } else {
          idoc.write(code);
          idoc.close();
        }

        iframe.style.width = `${widths}px`;
        iframe.style.height = `${heights}px`;

        if (demo===true){const parser = new DOMParser();
		const doc = parser.parseFromString(code1, 'text/html');
		document.getElementById("program-title").innerText=doc.title;
        }else{
        document.getElementById("program-title").innerText =
          filteredPrograms[
            document
              .querySelector(".programSelector.active")
              ?.getAttribute("data-index")
          ].title;
      }}

      function renderProgramSelectors() {
        const programSelectorsContainer =
          document.getElementById("programSelectors");
        programSelectorsContainer.innerHTML = "";
        filteredPrograms.forEach((program, index) => {
          const button = document.createElement("div");
          button.className = `programSelector ${program.classification}`;
          var strs =
            '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#EAC452"><path d="M480-269 314-169q-11 7-23 6t-21-8q-9-7-14-17.5t-2-23.5l44-189-147-127q-10-9-12.5-20.5T140-571q4-11 12-18t22-9l194-17 75-178q5-12 15.5-18t21.5-6q11 0 21.5 6t15.5 18l75 178 194 17q14 2 22 9t12 18q4 11 1.5 22.5T809-528L662-401l44 189q3 13-2 23.5T690-171q-9 7-21 8t-23-6L480-269Z"/></svg>'.repeat(
              program.classification
            );
          if (program.classification === 0) {
            strs = '<span class="material-symbols-rounded">reviews</span>';
          }
          if (strs === undefined || strs === null) {
            strs = "";
            for (var i = 0; i < program.classification; i++) {
              strs += `<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#EAC452"><path d="M480-269 314-169q-11 7-23 6t-21-8q-9-7-14-17.5t-2-23.5l44-189-147-127q-10-9-12.5-20.5T140-571q4-11 12-18t22-9l194-17 75-178q5-12 15.5-18t21.5-6q11 0 21.5 6t15.5 18l75 178 194 17q14 2 22 9t12 18q4 11 1.5 22.5T809-528L662-401l44 189q3 13-2 23.5T690-171q-9 7-21 8t-23-6L480-269Z"/></svg>`;
            }
          }
          button.innerHTML = `<img src="https://www.khanacademy.org/computer-programming/i/${program.id}/${program.thumbnailID}.png" width="200" height="200">
  
                <div>
                    
                    <a href='#!'  class='thumbtn'><span class="material-symbols-rounded">favorite</span> ${program.votes}</a> <a href='#!' class='thumbtn'><svg width="20px" height="20px" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6 4C5.44772 4 5 4.44772 5 5C5 5.55228 5.44772 6 6 6C6.55228 6 7 5.55228 7 5C7 4.44772 6.55228 4 6 4ZM9 5C9 6.30622 8.16519 7.41746 7 7.82929V9C7 10.1046 7.89543 11 9 11C10.1947 11 11.2671 11.5238 12 12.3542C12.7329 11.5238 13.8053 11 15 11C16.1046 11 17 10.1046 17 9V7.82929C15.8348 7.41746 15 6.30622 15 5C15 3.34315 16.3431 2 18 2C19.6569 2 21 3.34315 21 5C21 6.30622 20.1652 7.41746 19 7.82929V9C19 11.2091 17.2091 13 15 13C13.8954 13 13 13.8954 13 15V16.1707C14.1652 16.5825 15 17.6938 15 19C15 20.6569 13.6569 22 12 22C10.3431 22 9 20.6569 9 19C9 17.6938 9.83481 16.5825 11 16.1707V15C11 13.8954 10.1046 13 9 13C6.79086 13 5 11.2091 5 9V7.82929C3.83481 7.41746 3 6.30622 3 5C3 3.34315 4.34315 2 6 2C7.65685 2 9 3.34315 9 5ZM12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18ZM18 6C18.5523 6 19 5.55228 19 5C19 4.44772 18.5523 4 18 4C17.4477 4 17 4.44772 17 5C17 5.55228 17.4477 6 18 6Z" fill="inherit"/>
</svg> ${program.spinOffCount}</a></div><a href="#!" class="rating">
      ${strs}
    </a>`;

          const titl = document.createElement("h2");
          titl.innerText = program.title;
          
          button.appendChild(titl);
          button.setAttribute("data-index", index);
          button.addEventListener("click", function () {
            scene(2);
            document
              .querySelectorAll(".programSelector")
              .forEach((el) => el.classList.remove("active"));
            button.classList.add("active");
			document.getElementById('selectProgram').style.display='none';
            setupEditor(index);
            
          });
          programSelectorsContainer.appendChild(button);
        });
      }

      function searchPrograms() {
        const searchTerm = document
          .getElementById("search")
          .value.toLowerCase();
        filteredPrograms = programDetails.filter((program) =>
          program.title.toLowerCase().includes(searchTerm)
        );
        renderProgramSelectors();
      }
      async function initialize(countLines) {
        if(countLines==='html_demo'){
		setupEditor('html_demo');
	runCode();
        }else{
          
        programDetails = await fetchProgramDetails();
        filteredPrograms = programDetails;
        renderProgramSelectors();
        if (programDetails.length > 0) {
					if (countLines === 'ok'){
						// stay in program
					} 
          

          else if (countLines === true) {
            let l = 0;
            // Loop through programDetails and fetch data for each program
            for (var i = 0; i < programDetails.length; i++) {
              var c = programDetails[i].id;
              var a = new KhanAPI.Client();
              var w = await a.getProgram(c);

              // Await the result of ddd for each programId
              var lines = c;

              // Add the result to the accumulated total
              if (lines !== null) {
                l += w.lines;
                ZZZZ(
                  "block",
                  `<h2>COUNTLINES MODE:</h2> Programs Scanned: ${i}/${
                    programDetails.length
                  } <br/> Total Lines: ${l} lines of code <br/> Avg. Lines of Code per Program: ${(
                    l / i
                  ).toFixed(2)} lines of code`
                );
              } else {
                ZZZZ(
                  "block",
                  ` Error detected while trying to count total lines of code. Please refresh page.`
                );
              }
            }
          }else {
		
		setupEditor(0);
		document.querySelectorAll(".programSelector")[0].classList.add("active");
		}
        }
      }}
      function openComments() {
        document.getElementById("comments").style.display = "block";
        document.getElementsByClassName("navbar-flex-link")[0].className =
          "navbar-flex-link active";
        document.getElementsByClassName("navbar-flex-link")[1].className =
          "navbar-flex-link";
        document.getElementById("questions").style.display = "none";
      }
      function openQuestions() {
        document.getElementById("comments").style.display = "none";
        document.getElementsByClassName("navbar-flex-link")[1].className =
          "navbar-flex-link active";
        document.getElementsByClassName("navbar-flex-link")[0].className =
          "navbar-flex-link";
        document.getElementById("questions").style.display = "block";
      }
      openComments();
      function ZZZZ(display, code) {
        document.getElementById("zzzz-text").innerHTML = code;
        document.getElementById("zzzz").style.display = display;
      }
      ZZZZ("none", "");
      window.onload = function () {
        //initialize('html_demo');
      };
      document
        .getElementById("search")
        .addEventListener("input", searchPrograms);

      function runCode() {
        
        const programIndex = document
          .querySelector(".programSelector.active")
          ?.getAttribute("data-index");
          if (programIndex === undefined){
			const editor1 = ace.edit("editor");
			const code1 = editor1.getValue();
			update(
			code1,
			600,600,'ace/mode/html',true
			);
          }else if (programIndex !== null) {
			const editor = ace.edit("editor");
			const code = editor.getValue();
          const selectedProgram = filteredPrograms[programIndex];
          //No need to update since title can only be changed through KA
          //document.getElementById('program-title').innerText = filteredPrograms[document.querySelector('.programSelector.active')?.getAttribute('data-index')].title;

          update(
            code,
            selectedProgram.width,
            selectedProgram.height,
            selectedProgram.type,
            false
          );
        }
      }
      
      document
        .getElementById("runButton")
        .addEventListener("click", function () {
          runCode();
        });


			openPopup(0,'close');
			
			scene(0);
	</script>
</body>

</html>